<!DOCTYPE html>
<html lang="zh-cn">
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, height=device-width, initial-scale=1">
    <meta name="author" content="Eric Long" />
    <meta name="copyright" content="Eric Long" />
    <meta property="og:type" content="article" />

<meta name="keywords" content="Python, Python, " />

    <title>Python笔记</title>
<script type="text/javascript" src="/theme/js/jquery-1.12.0.min.js"></script>
<script type="text/javascript" src="/theme/js/bootstrap.min.js"></script>
<script type="text/javascript" src="/theme/tipuesearch/tipuesearch_set.js"></script>
<script type="text/javascript" src="/theme/tipuesearch/tipuesearch.min.js"></script>
<link rel="stylesheet" href="/theme/css/bootstrap.min.css" />
<link rel="stylesheet" href="/theme/css/font-awesome.min.css" />
<link rel="stylesheet" type="text/css" href="/theme/tipuesearch/tipuesearch.css" media="screen">
<link rel="stylesheet" type="text/css" href="/theme/css/pygments.css" media="screen">
<link rel="stylesheet" type="text/css" href="/theme/css/swain.css" media="screen">
<link rel="stylesheet" type="text/css" href="/theme/css/animate.css" media="screen">
    <link rel="icon" href="/theme/images/favicon.ico" type="image/x-icon" />
    
    <!-- GOOGLE_ANALYTICS -->
</head>
<body>
    <!-- navbar start -->
    <nav class="navbar navbar-inverse navbar-fixed-top">
        <div class="container-fluid">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
                <span class="sr-only">Toggle navigation</span>
                <i class="fa fa-bars fa-lg fa-inverse"></i>
                </button>
                <!-- <a class="navbar-brand" href="/">EricLonger</a> -->
            </div>

            <div class="collapse navbar-collapse navbar-right" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav">
                    <li ><a href="/">Home</a></li>
                    <li ><a href="/categories.html">Categories</a></li>
                    <li ><a href="/tags.html">Tags</a></li>
                    <li ><a href="/archives.html">Archives</a></li>
                </ul>
                <!-- 
                <form class="navbar-search navbar-form navbar-right" action="/search.html" onsubmit="return validateForm(this.elements['q'].value);"> <input type="text" class="search-query form-control" placeholder="Search" name="q" id="tipue_search_input"></form>
                -->
            </div>
        </div>
    </nav>
    <!-- navbar end -->
    <div class="container-fluid" id="container">
        <div class="row-fluid">
<div class="col-md-2 hidden-xs hidden-sm" id="sidebar_left">
</div>
            <div class="col-md-8" id="center_page">
<section id="content" class="body fadeInUp">
  <article>
    <div class="panel panel-default">
      <div class="panel-body">
        <header>
          <h1 class="entry-title">
            <a href="/pythonbi-ji.html" rel="bookmark"
               title="Permalink to Python笔记">Python笔记</a></h1>
        </header>
        <hr/>
        <div class="entry-content">
          <h5>1.定义私有变量，在变量前面加2个下划线'__'</h5>
<div class="highlight"><pre><span></span><span class="k">class</span> <span class="n">people:</span>    
    <span class="n">__name</span> = <span class="s">&#39;jack&#39;</span>
    <span class="n">__age</span> = <span class="mi">12</span>
</pre></div>


<h5>2.类常用的内置方法</h5>
<table>
<thead>
<tr>
<th>内置方法</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>__init__(self,...)</td>
<td>初始化对象，在创建新对象时调用</td>
</tr>
<tr>
<td>__del__(self)</td>
<td>释放对象，在对象被删除之前调用</td>
</tr>
<tr>
<td>__new__(cls,*args,**kwd)</td>
<td>实例的生成操作</td>
</tr>
<tr>
<td>__str__(self)</td>
<td>在使用print语句时被调用</td>
</tr>
<tr>
<td>__getitem__(self,key)</td>
<td>获取序列的索引key对应的值，等价于seq[key]</td>
</tr>
<tr>
<td>__len__(self)</td>
<td>在调用内联函数len( )时被调用</td>
</tr>
<tr>
<td>__cmp__(stc,dst)</td>
<td>比较两个对象src和dst</td>
</tr>
<tr>
<td>__getattr__(s,name)</td>
<td>获取属性的值</td>
</tr>
<tr>
<td>__setattr__(s,name,value)</td>
<td>设置属性的值</td>
</tr>
<tr>
<td>__delattr__(s,name)</td>
<td>删除name属性</td>
</tr>
<tr>
<td>__getattribute__( )</td>
<td>__getattribute__( )功能与__getattr__( )类似</td>
</tr>
<tr>
<td>__gt__(self,other)</td>
<td>判断self对象是否大于other对象</td>
</tr>
<tr>
<td>__lt__(slef,other)</td>
<td>判断self对象是否小于other对象</td>
</tr>
<tr>
<td>__ge__(slef,other)</td>
<td>判断self对象是否大于或者等于other对象</td>
</tr>
<tr>
<td>__le__(slef,other)</td>
<td>判断self对象是否小于或者等于other对象</td>
</tr>
<tr>
<td>__eq__(slef,other)</td>
<td>判断self对象是否等于other对象</td>
</tr>
<tr>
<td>__call__(self,*args)</td>
<td>把实例对象作为函数调用</td>
</tr>
</tbody>
</table>
<h5>3.利用__new__生成单例</h5>
<div class="highlight"><pre><span></span><span class="k">class</span> <span class="n">Singleton</span>(<span class="n">object</span>):
    <span class="n">__instance</span> = <span class="n">None</span>                       <span class="c c-Singleline"># 定义实例</span>

    <span class="n">def</span> <span class="n">__new__</span>(<span class="n">cls</span>, *<span class="n">args</span>, **<span class="n">kwd</span>):         <span class="c c-Singleline"># 在__init__之前调用</span>
        <span class="k">if</span> <span class="n">Singleton</span>.<span class="n">__instance</span> <span class="k">is</span> <span class="n">None:</span>    <span class="c c-Singleline"># 生成唯一实例</span>
            <span class="n">Singleton</span>.<span class="n">__instance</span> = <span class="n">object</span>.<span class="n">__new__</span>(<span class="n">cls</span>, *<span class="n">args</span>, **<span class="n">kwd</span>)
        <span class="k">return</span> <span class="n">Singleton</span>.<span class="n">__instance</span>
</pre></div>


<h5>4.方法继承</h5>
<div class="highlight"><pre><span></span># 方法继承，去掉return重写方法
def age(self):
    print 10
    return super(Men, self).age()
</pre></div>


<h5>5.将对象属性转为字典</h5>
<div class="highlight"><pre><span></span># 将对象属性转为dict
print men.__dict__
</pre></div>


<h5>6.当前时间戳</h5>
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">time</span>

<span class="c1"># time.time()返回当前时间戳</span>
<span class="bp">self</span><span class="o">.</span><span class="n">born</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
</pre></div>


<h5>7.property属性</h5>
<div class="highlight"><pre><span></span><span class="k">class</span> <span class="n">Men</span>(<span class="n">object</span>):

    <span class="n">def</span> <span class="n">__init__</span>(<span class="k">self</span>):
        <span class="n">super</span>(<span class="n">Person</span>, <span class="k">self</span>).<span class="n">__init__</span>()
        <span class="k">self</span>.<span class="n">__value</span> = <span class="mi">0</span>

    <span class="c c-Singleline"># 用property特性访问私有变量</span>
    <span class="nv">@property</span>
    <span class="n">def</span> <span class="nb">value</span>(<span class="k">self</span>):
        <span class="k">return</span> <span class="k">self</span>.<span class="n">__value</span>

    <span class="c c-Singleline"># 用property特性设置私有变量</span>
    <span class="nv">@value</span>.<span class="n">setter</span>
    <span class="n">def</span> <span class="nb">value</span>(<span class="k">self</span>, <span class="nb">value</span>):
        <span class="k">self</span>.<span class="n">__value</span> = <span class="nb">value</span>
</pre></div>


<h5>8.__getattr__(self, name)方法</h5>
<p>可以用来查询限时生成的属性，name为属性名</p>
<ul>
<li>如果在__init__方法初始化了某个属性，是不进入此方法的</li>
<li>但如果重写__getattr__方法（不继承super），又进入此方法了,如果是继承__getattr__，就不进</li>
<li>此方法不能继承:AttributeError: 'super' object has no attribute '__getattr__'</li>
</ul>
<p>--</p>
<div class="highlight"><pre><span></span><span class="k">class</span> <span class="n">Men</span>(<span class="n">object</span>):

    <span class="n">def</span> <span class="n">__init__</span>(<span class="k">self</span>):
        <span class="n">super</span>(<span class="n">Men</span>, <span class="k">self</span>).<span class="n">__init__</span>()
        <span class="k">self</span>.<span class="n">age</span> = <span class="mi">21</span>

    <span class="n">def</span> <span class="n">__getattr__</span>(<span class="k">self</span>, <span class="nb">name</span>):
        <span class="k">if</span> (<span class="nb">name</span> == <span class="s">&#39;girls&#39;</span>):
            <span class="nb">print</span> <span class="s">&#39;in __getattr__ girls&#39;</span>
            <span class="k">return</span> <span class="mi">33</span>
        <span class="n">elif</span> (<span class="nb">name</span> == <span class="s">&#39;age&#39;</span>):
            <span class="nb">print</span> <span class="s">&#39;in __getattr__ age&#39;</span>, <span class="k">self</span>.<span class="n">age</span>
            <span class="k">return</span> <span class="mi">55</span>

    <span class="n">men</span> = <span class="n">Men</span>()  
    <span class="nb">print</span> <span class="n">men</span>.<span class="n">age</span>       <span class="c c-Singleline">#print 21,age已在__init__声明,不进入__getattr__</span>
    <span class="nb">print</span> <span class="n">men</span>.<span class="n">girls</span>     <span class="c c-Singleline">#print 33,进入__getattr__</span>
</pre></div>


<h5>9.packing</h5>
<p><strong>*args:接受单值参数，以元组形式保存</strong></p>
<p><strong>**kwds:接受赋值参数，以字典形式保存</strong></p>
<div class="highlight"><pre><span></span>def func(*name):
    print type(name)
    print name

func(1, 2, 3, 4, 5)         #(1, 2, 3, 4, 5)

func(&#39;sf&#39;, &#39;sf&#39;, &#39;error&#39;)   #(&#39;sf&#39;, &#39;sf&#39;, &#39;error&#39;)

def func1(**dict):
    print type(dict)
    print dict

func1(a=1, b=2, c=3)

func1(c=2, d=5, xx=&#39;33&#39;, ee=&#39;44&#39;, aa=&#39;2&#39;)
</pre></div>
        </div><!-- /.entry-content -->
    </div>
  </div>      




  </article>
</section>
            </div>
            <div class="col-md-2 fadeInRight" id="sidebar_right">
<div class="panel panel-primary">
  <div class="panel-heading">Article <i class="fa fa-info-circle"></i>nfo</div>
    <div class="panel-body">
      <div class="published">
                <h5>Published</h5>
                <p><time>2013-12-22 23:53</time></p>
      </div>
      <div class="category">
              <h5>Category</h5>
              <p><a class="btn btn-default btn-xs" type="button" href="/categories.html#python-ref">Python</a></p>
      </div>
      <div class="tags">
            <h5>Tags</h5>
            <ul class="list-inline list-of-tags tags-in-article">
                <li><a class="btn btn-default btn-xs" type="button" href="/tags.html#python-ref">Python
                    <span class="badge">1</span>
</a></li>
            </ul>
      </div>
      <address class="vcard author">
                By       <a class="url fn" href="/author/eric-long.html">Eric Long</a>
      </address>

    </div>
</div>            </div>
        </div>
    </div>

    <!-- BAIDU_TONGJI -->

    <!-- footer -->
    <div id="push"></div>
<footer class="footer">
<div id="footer">
    <ul class="footer-content">
        <li class="swain-power"><i class="fa fa-map-signs"></i> Powered by <a href="http://getpelican.com/" title="Pelican Home Page">Pelican</a>
        </li>
    </ul>
</div>
</footer>    
<script type="text/javascript">
    function setTocClass(){
            var f = document.getElementById("toc");
            if (f != null) {
              f.classList.add("art-toc");
              f.classList.add("fadeInLeft");
              f.style.opacity = 1;
            };
        };
    window.onload = setTocClass();
</script>
</body>
</html>