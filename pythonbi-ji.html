<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>    python笔记
</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width">
            <link rel="stylesheet" href="/theme/css/normalize.css">
        <link href='//fonts.googleapis.com/css?family=Raleway' rel='stylesheet' type='text/css'>
        <link href='//fonts.googleapis.com/css?family=Oswald' rel='stylesheet' type='text/css'>
        <link href='http://fonts.googleapis.com/css?family=PT+Mono' rel='stylesheet' type='text/css'>
        <link rel="stylesheet" href="/theme/css/font-awesome.min.css">
        <link rel="stylesheet" href="/theme/css/main.css">

    <link rel="stylesheet" href="/theme/css/blog.css">
    <link rel="stylesheet" href="/theme/css/github.css">
        <script src="/theme/js/vendor/modernizr-2.6.2.min.js"></script>
    </head>
    <body>
        <!--[if lt IE 7]>
            <p class="chromeframe">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> or <a href="http://www.google.com/chromeframe/?redirect=true">activate Google Chrome Frame</a> to improve your experience.</p>
        <![endif]-->

        <div id="wrapper">
<header id="sidebar" class="side-shadow">
    <hgroup id="site-header">
        <a id="site-title" href="/"><h1><i class="icon-coffee"></i> eric的博客</h1></a>
        <p id="site-desc"></p>
    </hgroup>
    <nav>
        <ul class="navbar" id="nav-links">
            <li><a href="/category/c.html">C</a></li>
            <li><a href="/category/ios.html">iOS</a></li>
            <li><a href="/category/ndk.html">NDK</a></li>
            <li class="active"><a href="/category/python.html">Python</a></li>
        </ul> 
        <ul id="nav-links">
        </ul>
    </nav>
</header>
    <div id="post-container">
        <ol id="post-list">
            <li>
                <article class="post-entry">
                    <header class="entry-header">
                        <time class="post-time" datetime="2014-05-28T23:06:00+02:00" pubdate>
                            2014-05-28 23:06
                        </time>
                        <a href="/pythonbi-ji.html" rel="bookmark"><h1>python笔记</h1></a>
                    </header>

                    <section class="post-content">
                        <h5>1.定义私有变量，在变量前面加2个下划线'__'</h5>
<div class="highlight"><pre><span class="k">class</span> <span class="n">people:</span>    
    <span class="n">__name</span> = <span class="s">&#39;jack&#39;</span>
    <span class="n">__age</span> = <span class="mi">12</span>
</pre></div>


<h5>2.类常用的内置方法</h5>
<table>
<thead>
<tr>
<th>内置方法</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>__init__(self,...)</td>
<td>初始化对象，在创建新对象时调用</td>
</tr>
<tr>
<td>__del__(self)</td>
<td>释放对象，在对象被删除之前调用</td>
</tr>
<tr>
<td>__new__(cls,*args,**kwd)</td>
<td>实例的生成操作</td>
</tr>
<tr>
<td>__str__(self)</td>
<td>在使用print语句时被调用</td>
</tr>
<tr>
<td>__getitem__(self,key)</td>
<td>获取序列的索引key对应的值，等价于seq[key]</td>
</tr>
<tr>
<td>__len__(self)</td>
<td>在调用内联函数len( )时被调用</td>
</tr>
<tr>
<td>__cmp__(stc,dst)</td>
<td>比较两个对象src和dst</td>
</tr>
<tr>
<td>__getattr__(s,name)</td>
<td>获取属性的值</td>
</tr>
<tr>
<td>__setattr__(s,name,value)</td>
<td>设置属性的值</td>
</tr>
<tr>
<td>__delattr__(s,name)</td>
<td>删除name属性</td>
</tr>
<tr>
<td>__getattribute__( )</td>
<td>__getattribute__( )功能与__getattr__( )类似</td>
</tr>
<tr>
<td>__gt__(self,other)</td>
<td>判断self对象是否大于other对象</td>
</tr>
<tr>
<td>__lt__(slef,other)</td>
<td>判断self对象是否小于other对象</td>
</tr>
<tr>
<td>__ge__(slef,other)</td>
<td>判断self对象是否大于或者等于other对象</td>
</tr>
<tr>
<td>__le__(slef,other)</td>
<td>判断self对象是否小于或者等于other对象</td>
</tr>
<tr>
<td>__eq__(slef,other)</td>
<td>判断self对象是否等于other对象</td>
</tr>
<tr>
<td>__call__(self,*args)</td>
<td>把实例对象作为函数调用</td>
</tr>
</tbody>
</table>
<h5>3.利用__new__生成单例</h5>
<div class="highlight"><pre><span class="k">class</span> <span class="n">Singleton</span>(<span class="n">object</span>):
    <span class="n">__instance</span> = <span class="n">None</span>                       <span class="c-Singleline"># 定义实例</span>

    <span class="n">def</span> <span class="n">__new__</span>(<span class="n">cls</span>, *<span class="n">args</span>, **<span class="n">kwd</span>):         <span class="c-Singleline"># 在__init__之前调用</span>
        <span class="k">if</span> <span class="n">Singleton</span>.<span class="n">__instance</span> <span class="k">is</span> <span class="n">None:</span>    <span class="c-Singleline"># 生成唯一实例</span>
            <span class="n">Singleton</span>.<span class="n">__instance</span> = <span class="n">object</span>.<span class="n">__new__</span>(<span class="n">cls</span>, *<span class="n">args</span>, **<span class="n">kwd</span>)
        <span class="k">return</span> <span class="n">Singleton</span>.<span class="n">__instance</span>
</pre></div>


<h5>4.方法继承</h5>
<div class="highlight"><pre># 方法继承，去掉return重写方法
def age(self):
    print 10
    return super(Men, self).age()
</pre></div>


<h5>5.将对象属性转为字典</h5>
<div class="highlight"><pre># 将对象属性转为dict
print men.__dict__
</pre></div>


<h5>6.当前时间戳</h5>
<div class="highlight"><pre><span class="kn">import</span> <span class="nn">time</span>

<span class="c"># time.time()返回当前时间戳</span>
<span class="bp">self</span><span class="o">.</span><span class="n">born</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
</pre></div>


<h5>7.property属性</h5>
<div class="highlight"><pre><span class="k">class</span> <span class="n">Men</span>(<span class="n">object</span>):

    <span class="n">def</span> <span class="n">__init__</span>(<span class="k">self</span>):
        <span class="n">super</span>(<span class="n">Person</span>, <span class="k">self</span>).<span class="n">__init__</span>()
        <span class="k">self</span>.<span class="n">__value</span> = <span class="mi">0</span>

    <span class="c-Singleline"># 用property特性访问私有变量</span>
    <span class="nv">@property</span>
    <span class="n">def</span> <span class="nb">value</span>(<span class="k">self</span>):
        <span class="k">return</span> <span class="k">self</span>.<span class="n">__value</span>

    <span class="c-Singleline"># 用property特性设置私有变量</span>
    <span class="nv">@value</span>.<span class="n">setter</span>
    <span class="n">def</span> <span class="nb">value</span>(<span class="k">self</span>, <span class="nb">value</span>):
        <span class="k">self</span>.<span class="n">__value</span> = <span class="nb">value</span>
</pre></div>


<h5>8.__getattr__(self, name)方法</h5>
<p>可以用来查询限时生成的属性，name为属性名</p>
<ul>
<li>如果在__init__方法初始化了某个属性，是不进入此方法的</li>
<li>但如果重写__getattr__方法（不继承super），又进入此方法了,如果是继承__getattr__，就不进</li>
<li>此方法不能继承:AttributeError: 'super' object has no attribute '__getattr__'</li>
</ul>
<p>--</p>
<div class="highlight"><pre><span class="k">class</span> <span class="n">Men</span>(<span class="n">object</span>):

    <span class="n">def</span> <span class="n">__init__</span>(<span class="k">self</span>):
        <span class="n">super</span>(<span class="n">Men</span>, <span class="k">self</span>).<span class="n">__init__</span>()
        <span class="k">self</span>.<span class="n">age</span> = <span class="mi">21</span>

    <span class="n">def</span> <span class="n">__getattr__</span>(<span class="k">self</span>, <span class="nb">name</span>):
        <span class="k">if</span> (<span class="nb">name</span> == <span class="s">&#39;girls&#39;</span>):
            <span class="nb">print</span> <span class="s">&#39;in __getattr__ girls&#39;</span>
            <span class="k">return</span> <span class="mi">33</span>
        <span class="n">elif</span> (<span class="nb">name</span> == <span class="s">&#39;age&#39;</span>):
            <span class="nb">print</span> <span class="s">&#39;in __getattr__ age&#39;</span>, <span class="k">self</span>.<span class="n">age</span>
            <span class="k">return</span> <span class="mi">55</span>

    <span class="n">men</span> = <span class="n">Men</span>()  
    <span class="nb">print</span> <span class="n">men</span>.<span class="n">age</span>       <span class="c-Singleline">#print 21,age已在__init__声明,不进入__getattr__</span>
    <span class="nb">print</span> <span class="n">men</span>.<span class="n">girls</span>     <span class="c-Singleline">#print 33,进入__getattr__</span>
</pre></div>


<h5>9.packing</h5>
<p><strong>*args:接受单值参数，以元组形式保存</strong></p>
<p><strong>**kwds:接受赋值参数，以字典形式保存</strong></p>
<div class="highlight"><pre>def func(*name):
    print type(name)
    print name

func(1, 2, 3, 4, 5)         #(1, 2, 3, 4, 5)

func(&#39;sf&#39;, &#39;sf&#39;, &#39;error&#39;)   #(&#39;sf&#39;, &#39;sf&#39;, &#39;error&#39;)

def func1(**dict):
    print type(dict)
    print dict

func1(a=1, b=2, c=3)

func1(c=2, d=5, xx=&#39;33&#39;, ee=&#39;44&#39;, aa=&#39;2&#39;)
</pre></div>
                    </section>
                    <hr/>
                    <aside class="post-meta">
                        <p>Category: <a href="/category/python.html">Python</a></p>
                        <p>Tags: <a href="/tag/python.html">Python</a>, <a href="/tag/django.html">Django</a>, </p>
                    </aside>
                    <hr/>

<div class="comments">
    <div id="uyan_frame"></div>
    <script type="text/javascript" src="http://v2.uyan.cc/code/uyan.js?uid=2008694"></script>
</div>
                </article>
            </li>
        </ol>
<footer id="site-info">
    <p>
        Proudly powered by <a href="http://getpelican.com/">Pelican</a> and <a href="http://python.org/">Python</a>. Theme by<a href="https://github.com/hdra/pelican-cait">hndr</a>.
    </p>
</footer>    </div>
        </div>
        <script src="/theme/js/main.js"></script>
    </body>
</html>